jdwpgen
=======

This is a tool to parse the annotated `jdwp.spec` and output Java classes for parsing and generating JDWP packets.

This tool is based on the [jdwp-spec-parser](https://github.com/openjdk/jdk/tree/6794a686819554742ec906bbbc749a9241f7e452/make/jdk/src/classes/build/tools/jdwpgen)
from the OpenJDK project. The original only created basic classes to read events and responses and generate requests.
My modified version creates both and adds lots of helper methods to make it easier to work with the packets.

Usage
-----

```
mvn package exec:java -Dexec.args="../data/jdwp.spec -jdi ../src/main/java/jdwp/JDWP.java -costfile ../data/costs.csv"
```

The costs file is a CSV file with the following columns:
```
command set number, command number, cost
```

The cost could be the time in milliseconds to execute the command and it can be generated by modifying the JDWP agent.

Tests
-----
This tool is indirectly tested by the large amount of tests in the main project.

License
-------
GPLv2